[{"type":"yamlHeader","data":{"author":"v-jeffreykim","ms.author":"v-jeffreykim","title":"Fog Documentation - Introduction to Fogs","ms.prod":"gaming"}},{"type":"heading","data":"Fog Documentation - Introduction to Fogs"},{"type":"other","data":"Fogs are a rendering feature that can be used to obscure the player's view distance. You can use fogs to occlude boundaries, such as unloaded chunks beyond the render distance, or to produce an atmospheric effect. There are several types of fogs that can be used in many different circumstances."},{"type":"other","data":"Fogs are set up in individual JSON files in your resource pack under the **fogs** directory."},{"type":"heading","data":"Fog Schema"},{"type":"code","data":{},"language":"json"},{"type":"heading","data":"Active Fog Stack"},{"type":"other","data":"The active fog stack is used to determine which fog setting to use at any given time in the game. Each player has a unique fog stack."},{"type":"other","data":"Whenever the game needs to determine the values for the fog, it will start at the top of the fog stack and check down it until it finds a value for the current setting type. If no fog settings on the stack are a match, the game will continue down the stack and check in. If it finds no matching setting, the game will use the defaults defined by the engine, instead."},{"type":"other","data":"The fog stack initially is set up as follows. Starting at the bottom:"},{"type":"list","data":["Engine Default: hard code values.","Data Default: The default data driven settings.","Biomes: The settings defined to be on each biome.","Command: The settings set on the player by server commands."]},{"type":"heading","data":"Biomes"},{"type":"other","data":"The biome layer is an average of all the settings defined by the biomes around the player's position. The biome settings are defined in **biomes_client.json** as well for each individual biome."},{"type":"heading","data":"Command"},{"type":"other","data":"The command layer is all the settings set by the **/fog** command and evaluated it as one stack from top to bottom. For more information, see the **Fog Command** section."},{"type":"heading","data":"Data Default"},{"type":"other","data":"Defined in **biomes_client.json** under `default` if it references a fog definition via `fog_identifier`."},{"type":"heading","data":"Engine Default"},{"type":"other","data":"Hard-coded values are used in case there are no data driven values; the Engine Default will be loaded if there is no matching fog setting when the game reaches the bottom of the fog stack."},{"type":"heading","data":"Biomes"},{"type":"other","data":"Fog settings can be determined for the biomes with **biomes_client.json**. In each biome entry, you can have a variable called `fog_identifier` and set a name that matches the fog setting you want to use with this biome."},{"type":"other","data":"The `default` entry can also be set this way and will be used underneath the biomes entries in the active fog stack. A biome's fog setting does not completely replace the default setting, but instead the biome is read on top of the default as described in the **Active Fog Stack** section."},{"type":"other","data":"The `default` biome entry has the tag `remove_all_prior_fog` that is set to `false` by default."},{"type":"other","data":"While set to `false` (or if the tag is not entered), missing fog definitions will be filled in by any lower resource pack that does have the definition filled."},{"type":"other","data":"If set to `true`, all previous fog definitions in resource packs before the current pack that enabled it will be cleared, effectively making the current resource pack the new starting point for all fogs."},{"type":"other","data":"In each biome (including `default`) there is the tag `inherit_from_prior_fog` that is set to `false` by default."},{"type":"other","data":"While set to `false` (or if the tag is not entered), the current resource pack's biome will overwrite the currently stored `fog_identifier` tag with its own."},{"type":"other","data":"If set to `true`, the `fog_identifier` tags from all matching biomes will be added together and create a new merged fog definition for that biome."},{"type":"heading","data":"The Fog Command"},{"type":"other","data":"The `/fog` command can be used to manage fog settings in the current layer of the active fog stack for each player."},{"type":"other","data":"Fog settings in this layer are ordered via the `push`, `pop`, and `remove` modes of the `/fog` command."},{"type":"other","data":"Fog settings are evaluated top-to bottom in the active fog stack which includes top-to-bottom in the current layer first."},{"type":"other","data":"Fog settings in this layer are saved and then restored on world load per player. A fog setting that is pushed before a world save will still apply after a world load and can then be popped."},{"type":"heading","data":"Push"},{"type":"other","data":"Pushes a new fog setting onto the top of the Fog Command layers for a player's active fog stack, given that player's specified ID."},{"type":"heading","data":"Pop"},{"type":"other","data":"Removes the top-most fog setting from a selected player, given that player's specified ID."},{"type":"heading","data":"Remove"},{"type":"other","data":"Removes all matching fog settings (provided previously through one or more \"/fog push\" commands) from a selected player, given that player's specified ID."}]